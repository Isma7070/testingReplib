Instrucciones de mejora (nivel funcional / UX) para el indicador Lead Time Interno
(Describe quÃ© debe pulirse; el asistente de cÃ³digo decidirÃ¡ cÃ³mo implementarlo).

1. Calidad de datos y unidades
Problema detectado	AcciÃ³n propuesta
Valor negativo (â€“14.9 d) en la tarjeta.	1) Agregar validaciÃ³n ETL: si TS Ready < TS LiberaciÃ³n registrar la orden como inconsistencia y excluirla del KPI.
2) Mostrar badge gris â€œDatos invÃ¡lidosâ€ cuando el valor resultante sea negativo.
Mezcla de â€œdÃ­asâ€ y â€œhorasâ€ en las vistas (trend en dÃ­as, tabla en horas).	Definir unidad oficial horas (h) para todo el KPI:
â€¢ Convertir siempre a horas con 1 decimal.
â€¢ Cambiar eje Y, tarjetas resumen y etiquetas a â€œhâ€.

2. Tarjeta KPI (dashboard)
TÃ­tulo: mantener â€œLead Time Internoâ€ pero aÃ±adir tooltip â€œHoras desde liberaciÃ³n hasta listo para embarqueâ€.

Valor principal: si no hay error de datos, mostrar con 1 decimal y â€œhâ€ (ej. 45.8 h).

Delta: formato Â«â†“ 43.8 h vs 48 hÂ» (pp no aplica).

Badge de estado:

Verde = â‰¤ objetivo (â‰¤ 48 h).

Ãmbar = > objetivo hasta +20 %.

Rojo = > objetivo + 20 %.

Sparkline: grosor 2 px; sombrear zona verde (0â€“48 h). Si no hay datos vÃ¡lidos â†’ placeholder â€œâ€”â€.

3. Modal â€“ pestaÃ±a Tendencia
Mensaje azul: migrar a Ã­cono de ayuda desplegable para liberar espacio.

GrÃ¡fica:

Eje Y en horas, rango dinÃ¡mico (0 h â€“ 60 h).

Banda sombreada 0 â€“ 48 h (objetivo) como zona verde.

Incluir media mÃ³vil de 7 d para suavizar puntos.

Tarjetas resumen:

Actual | Objetivo | Promed. 30 d | DesviaciÃ³n (en horas).

Ocultar valores o mostrar â€œNDâ€ si no hay Ã³rdenes vÃ¡lidas.

4. PestaÃ±a DistribuciÃ³n
Cambiar columnas por box-plot de lead-time por cliente; permite ver dispersiones y outliers.

Tabla Performance por Cliente:

Columnas: Actual (h) | Objetivo (h) | Ã“rdenes | Estado.

Badges segÃºn reglas de estado citadas arriba.

AÃ±adir columna â€œP90 (h)â€ para que el cliente vea el peor 10 % de sus Ã³rdenes.

5. PestaÃ±a Detalle
Tabla principal

Columnas: Orden | Cliente | Unidades | Lead Time (h) | Objetivo | Estado.

Estado badges: Verde â€œDentroâ€, Rojo â€œFueraâ€.

Fila desplegable

LÃ­nea de tiempo con iconos: liberaciÃ³n ğŸŸ¢ | procesamiento ğŸŸ¡ | preparaciÃ³n ğŸŸ¡ | listo ğŸŸ¢.

Mostrar duraciÃ³n de cada fase en horas, sumar total.

Mensaje de resultado: Â«Lead Time: 76.9 h (objetivo 48 h) â€“ excede por 28.9 h, revisar etapa â€˜PreparaciÃ³nâ€™Â».

Filtros rÃ¡pidos: switches â€œSÃ³lo fuera de objetivoâ€ y â€œ> 24 h de retrasoâ€ sobre la tabla.

6. Manejo de errores y vacÃ­os
Escenario	UI	Mensaje sugerido
Valor negativo	Mostrar â€œNDâ€ y badge gris â€œDatos invÃ¡lidosâ€; registrar inconsistencia en log.	
Sin Ã³rdenes en periodo	Tarjeta con â€œ0 hâ€ y badge gris â€œSin registrosâ€ + sparkline oculto.	

7. Coherencia & accesibilidad
Unidades estandarizadas: siempre h (horas).

Paleta: verde #28A745, Ã¡mbar #FFC107, rojo #C82333 coherentes.

TipografÃ­a: valores 32â€“36 px, unidades 14 px, labels 12 px.

Tooltips y aria-label para iconos e informaciÃ³n de ayuda.

Contraste: verificar badges y texto rojo/Ã¡mbar sobre fondo blanco (WCAG 2.1 AA).

8. Acciones correctivas (enlace â€œVer recomendacionesâ€)
Priorizar Ã³rdenes urgentes en cola de preparaciÃ³n.

Implementar seÃ±alizaciÃ³n visual de SLA en el piso.

Reducir tiempos de espera entre procesamiento y preparaciÃ³n (habilitar picking paralelo).

Revisar capacidad de packing para evitar cuellos de botella en horas pico.

Con estas mejoras, el indicador Lead Time Interno mostrarÃ¡ informaciÃ³n fiable, coherente con las unidades correctas y ofrecerÃ¡ contexto accionable sin confusiÃ³n por valores negativos o mÃ©tricas mezcladas.